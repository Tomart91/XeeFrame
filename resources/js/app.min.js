
var app={request:function(c,f,d,g,b,e){f.csrf_token=app.getMainParams("csrf_token");var a=function(h){try{var j=JSON.parse(h);if(j.error=="NO PERMISSION"){window.location.href=j.link}else{g(h)}}catch(i){b(h)}};$.ajax({url:c,type:d,data:f,success:a})},pjax:function(b,d,c,e,a){app.request(b,d,c,e,a,true)},ajax:function(b,d,c,e,a){app.request(b,d,c,e,a,false)},getParams:function(a){return $("#"+a).val()},autoLoad:function(){var module=app.getParams("module");var action=app.getParams("action");var nameClass=module+"_"+action;var myObject=eval("new "+nameClass+"()");myObject.register()}};jQuery(document).ready(function(){app.autoLoad()});